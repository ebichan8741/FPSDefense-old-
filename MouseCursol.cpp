//=================================================================================================
//
// マウスカーソル [MouseCursol.cpp]
// Author : TAKUYA EBIHARA
//
//=================================================================================================
#include "main.h"
#include "manager.h"
#include "scene.h"
#include "scene2D.h"
#include "MouseCursol.h"
#include "input.h"
#include "TextureManager.h"

//=================================================================================================
// 定数定義
//=================================================================================================
#define CURSOL_WIDTH     (20)   //枠の幅
#define CURSOL_HEIGHT    (20)   //枠の高さ

//=================================================================================================
// 構造体宣言
//=================================================================================================

//=================================================================================================
// グローバル変数
//=================================================================================================


//*************************************************************************************************
// コンストラクタ
//*************************************************************************************************
CMouseCursol::CMouseCursol(int nPriolity):CScene2D(nPriolity)
{
   m_vPos = D3DXVECTOR3(0.0f ,0.0f ,0.0f);
   m_vSize = D3DXVECTOR3(50.0f ,50.0f ,0.0f);
}

//*************************************************************************************************
// デストラクタ
//*************************************************************************************************
CMouseCursol::~CMouseCursol()
{

}

//*************************************************************************************************
// 初期化処理
//*************************************************************************************************
HRESULT CMouseCursol::Init(void)
{
    

    CScene2D::Init();
    SetColor(D3DXCOLOR(0.0f, 1.0f, 0.0f, 1.0f));
    return S_OK;
}

//*************************************************************************************************
// 終了処理
//*************************************************************************************************
void CMouseCursol::Uninit(void)
{
    CScene2D::Uninit();
}

//*************************************************************************************************
// 更新処理
//*************************************************************************************************
void CMouseCursol::Update(void)
{

    m_vPos = CManager::GetInputMouse()->GetMousePos();
    CScene2D::Update();
}

//*************************************************************************************************
// 描画処理
//*************************************************************************************************
void CMouseCursol::Draw(void)
{
    CScene2D::Draw();
}

//*************************************************************************************************
// インスタンス生成
//*************************************************************************************************
CMouseCursol *CMouseCursol::Create(void)
{
    CMouseCursol *pMouseCursol;

    //インスタンス生成
    pMouseCursol = new CMouseCursol(PRIOLITY_2);

    //初期化処理
    pMouseCursol->Init();

    //モデル読み込み
    //pMouseCursol->LoadTexture(TEXTURE_MOUSECURSOL);
    pMouseCursol->m_pTexture = CManager::GetTextureManager()->getResource(CManager::GetTextureManager()->getTextureName(TEXTURE_MOUSECURSOL));
    return pMouseCursol;
}